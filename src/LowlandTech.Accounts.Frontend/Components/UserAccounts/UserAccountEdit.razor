
<MudStack Spacing="2">
  <MudStack Row Spacing="1" AlignItems="AlignItems.Center">
    @if (State.ViewState == ViewStates.Viewing)
    {
      <MudButton Variant="Variant.Outlined" Color="Color.Primary" Disabled="@(!CanEdit)" OnClick="BeginEdit">Edit</MudButton>
      <MudButton Variant="Variant.Outlined" Color="Color.Error" Disabled="@(!CanDelete)" OnClick="OnDeleteAsync">Delete</MudButton>
      <MudSpacer />
      <MudButton Variant="Variant.Filled" Color="Color.Primary" Disabled="@(!_canCreate)" OnClick="BeginAdd">Add UserAccount</MudButton>
    }
    else
    {
      <MudButton Variant="Variant.Filled" Color="Color.Primary" Disabled="@(!CanSave)" OnClick="OnSaveAsync">Save</MudButton>
      <MudButton Variant="Variant.Outlined" Color="Color.Default" OnClick="CancelEdit">Cancel</MudButton>
    }
  </MudStack>

  @if (State.Selected is null)
  {
    <MudAlert Severity="Severity.Info">No selection.</MudAlert>
  }
  else
  {
    <EditForm Model="@State.Selected">
      <MudPaper Class="pa-4" Elevation="1">
        <MudGrid>
            <MudItem xs="12" sm="6">
                <MudTextField T="Guid" @bind-Value="State.Selected.Id" Label="Id" ReadOnly Disabled Margin="Margin.Dense" />
            </MudItem>
            <MudItem xs="12" sm="6">
                <MudTextField T="string" @bind-Value="State.Selected.Name" Label="Name" ReadOnly="@IsReadOnly" Disabled="@IsReadOnly" Margin="Margin.Dense" />
            </MudItem>
            <MudItem xs="12" sm="6">
                <MudSwitch T="bool" @bind-Checked="State.Selected.IsActive" Disabled="@IsReadOnly">IsActive</MudSwitch>
            </MudItem>
            <MudItem xs="12" sm="6">
                <MudTextField T="string" @bind-Value="State.Selected.Email" Label="Email" ReadOnly="@IsReadOnly" Disabled="@IsReadOnly" Margin="Margin.Dense" />
            </MudItem>
            <MudItem xs="12" sm="6">
                <MudTextField T="string" @bind-Value="State.Selected.DisplayName" Label="DisplayName" ReadOnly="@IsReadOnly" Disabled="@IsReadOnly" Margin="Margin.Dense" />
            </MudItem>
            <MudItem xs="12" sm="6">
                <MudTextField T="string" @bind-Value="State.Selected.Phone" Label="Phone" ReadOnly="@IsReadOnly" Disabled="@IsReadOnly" Margin="Margin.Dense" />
            </MudItem>
            <MudItem xs="12" sm="6">
                <MudTextField T="string" @bind-Value="State.Selected.PhotoUrl" Label="PhotoUrl" ReadOnly="@IsReadOnly" Disabled="@IsReadOnly" Margin="Margin.Dense" />
            </MudItem>
            <MudItem xs="12" sm="6">
                <MudTextField T="string" @bind-Value="State.Selected.Timezone" Label="Timezone" ReadOnly="@IsReadOnly" Disabled="@IsReadOnly" Margin="Margin.Dense" />
            </MudItem>
            <MudItem xs="12" sm="6">
                <MudTextField T="string" @bind-Value="State.Selected.Locale" Label="Locale" ReadOnly="@IsReadOnly" Disabled="@IsReadOnly" Margin="Margin.Dense" />
            </MudItem>
            <MudItem xs="12" sm="6">
                <MudTextField T="string" @bind-Value="State.Selected.PreferredCurrency" Label="PreferredCurrency" ReadOnly="@IsReadOnly" Disabled="@IsReadOnly" Margin="Margin.Dense" />
            </MudItem>
            <MudItem xs="12" sm="6">
                <MudSwitch T="bool" @bind-Checked="State.Selected.TwoFactorEnabled" Disabled="@IsReadOnly">TwoFactorEnabled</MudSwitch>
            </MudItem>
            <MudItem xs="12" sm="6">
                <MudDatePicker @bind-Date="State.Selected.CreatedUtc" Label="CreatedUtc" ReadOnly="@IsReadOnly" Disabled="@IsReadOnly" Margin="Margin.Dense" />
            </MudItem>
            <MudItem xs="12" sm="6">
                <MudDatePicker @bind-Date="State.Selected.LastLoginUtc" Label="LastLoginUtc" ReadOnly="@IsReadOnly" Disabled="@IsReadOnly" Margin="Margin.Dense" />
            </MudItem>
        </MudGrid>
      </MudPaper>
    </EditForm>
  }
</MudStack>
